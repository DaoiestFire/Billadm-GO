- [规范](#规范)
  - [参数和返回值](#参数和返回值)
- [账本](#账本)
  - [增加](#增加)
    - [创建指定名称的账本](#创建指定名称的账本)
  - [删除](#删除)
    - [删除指定ID的账本](#删除指定id的账本)
  - [修改](#修改)
  - [查询](#查询)
    - [查询所有账本](#查询所有账本)
  - [查询指定ID的账本](#查询指定id的账本)
- [消费记录](#消费记录)
  - [增加](#增加-1)
  - [删除](#删除-1)
  - [修改](#修改-1)
  - [查询](#查询-1)

## 规范

### 参数和返回值

* 端点：`http://127.0.0.1:31943`
* 均是 POST 方法
* 需要带参的接口，参数为 JSON 字符串，放置到 body 里，标头 Content-Type 为 `application/json`
* 返回值

  ```json
  {
    "code": 0,
    "msg": "",
    "data": {}
  }
  ```

  * `code`：非 0 为异常情况
  * `msg`：正常情况下是空字符串，异常情况下会返回错误文案
  * `data`：可能为 `{}`、`[]` 或者 `NULL`，根据不同接口而不同

## 账本

> /api/v1/ledger

### 增加

#### 创建指定名称的账本

* 参数

  ```json
  {
    "name": "test-name"
  }
  ```
  * `name`：账本名称

* 返回值

  ```json
  {
    "code": 0,
    "msg": "",
    "data": "0197f526-8160-70e6-84f7-16f6f5c8417e"
  }
  ```
  * `data`：账本ID

### 删除

#### 删除指定ID的账本

* 参数
  
  ```json
  {
    "ledger_id": "账本id"
  }
  ```

* 返回值

  ```json
  {
    "code": 0,
    "msg": "",
    "data": null
  }
  ```

### 修改

### 查询

#### 查询所有账本

* 参数
  
  ```json
  {
    "ledger_id": "all"
  }
  ```
  * `ledger_id`：账本ID

* 返回值

  ```json
  {
    "code": 0,
    "msg": "",
    "data": [
        {
            "id": "0197fa7b-9b5b-73a4-b131-f022cabd1cf5",
            "name": "test-name",
            "created_at": "2025-07-12T01:14:54.1717438+08:00",
            "updated_at": "2025-07-12T01:14:54.1717438+08:00"
        }
    ]
  }
  ```
  * `data`：账本列表

### 查询指定ID的账本

* 参数
  
  ```json
  {
    "ledger_id": "id1,id2"
  }
  ```
  * `ledger_id`：一个或多个账本ID，逗号分隔

* 返回值

  ```json
  {
    "code": 0,
    "msg": "",
    "data": [
        {
            "id": "0197fa7b-9b5b-73a4-b131-f022cabd1cf5",
            "name": "test-name",
            "created_at": "2025-07-12T01:14:54.1717438+08:00",
            "updated_at": "2025-07-12T01:14:54.1717438+08:00"
        }
    ]
  }
  ```
  * `data`：账本列表

## 消费记录

> /api/v1/tr

### 增加

### 删除

### 修改

### 查询